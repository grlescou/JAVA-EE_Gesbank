<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/default_template.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="meta-attr">
       <f:attribute name="PageRole" value="ClientB" />
      
    <f:metadata>
        <f:viewParam name="idcompt" value="#{detailsComptesBeans.idCompte}"
               required="true"/>
        <f:viewAction action="#{detailsComptesBeans.loadOperationBancairebyCompte()}"/>
      </f:metadata>   
       
    </ui:define>

    <ui:define name="complementTitreEtH1">
        Operations Bancaires
    </ui:define>

   <ui:define name="identifier">
        #{loginMBean.client.prenom} #{loginMBean.client.nom}  
    </ui:define>

    <ui:define name="content-title">
       Liste des Operations Bancaires du compte Numero : #{detailsComptesBeans.idCompte}
    </ui:define>

    <ui:define name="content">
        
        
        
        
        
        
        
        
        <f:view>


            <h:form>
                <p:dataTable value="#{detailsComptesBeans.detailOperationBancaire}" var="item" widgetVar="detailTb"
                 paginator="true" rows="10" rowsPerPageTemplate="10,20,50,100"  emptyMessage="Aucun Operation Bancaire Trouve..." 
                 filteredValue="#{detailsComptesBeans.listOperationFilters}" >
                   <f:facet name="header">  
                    <p:outputPanel>  
                        <h:outputText value="Rechercher : " />  
                        <p:inputText id="globalFilter" onkeyup="PF('detailTb').filter()" style="width:150px" />  
                    </p:outputPanel>  
                  </f:facet> 
                   <p:column headerText="Id" filterBy="#{item.id}" sortBy="#{item.id}" filterMatchMode="contains"  >
                        <f:facet name="header">
                            <h:outputText value="Id"/>
                        </f:facet>
                        <h:outputText value="#{item.id}"/>
                        
                        
                    </p:column>
                    <p:column  headerText="DateOperation" filterBy="#{item.dateOperation}" sortBy="#{item.dateOperation}" filterMatchMode="contains" >
                        <f:facet name="header">
                            <h:outputText value="Date Operation"/>
                        </f:facet>
                        <h:outputText value="#{item.dateOperation}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                        
                    </p:column>
                    <p:column headerText="Description" filterBy="#{item.description}" sortBy="#{item.description}" filterMatchMode="contains">
                        <f:facet name="header">
                            <h:outputText value="Description"/>
                        </f:facet>
                        <h:outputText value="#{item.description}"/>
                    </p:column>
                    <p:column  headerText="Montant" filterBy="#{item.montant}" sortBy="#{item.montant}" filterFunction="#{detailsComptesBeans.filterByMontant}">
                        <f:facet name="header">
                            <h:outputText value="Montant"/>
                        </f:facet>
                        <h:outputText value="#{item.montant}">
                           <f:convertNumber currencySymbol="HTG " type="currency"/>
                       </h:outputText>
                    </p:column>
                   
                </p:dataTable>
            </h:form>
        </f:view>

        
        
        
        
        
        
        
        
        
        
        
    </ui:define>

</ui:composition>
