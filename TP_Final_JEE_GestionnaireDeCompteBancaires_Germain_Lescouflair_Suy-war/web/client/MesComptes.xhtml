<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/default_template.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"  >
     
    <ui:define name="meta-attr">
     <f:attribute name="PageRole" value="ClientB" />
    
    </ui:define>

    <ui:define name="complementTitreEtH1">
        Mes Compte
    </ui:define>

    <ui:define name="content-title">
       Mes Comptes
    </ui:define>

     <ui:define name="identifier">
        #{loginMBean.client.prenom} #{loginMBean.client.nom}  
    </ui:define>
    
    <ui:define name="content">
       
           <h:form>
            <f:view>


                <h:form>
                    
                    <p:dataTable  id="radioDT" value="#{clientTrasactionBancaireMBean.listeComptes}" var="item"  widgetVar="compteTb"
                     paginator="true" rows="10" rowsPerPageTemplate="10,20" sortMode="multiple" emptyMessage="Aucun Compte Bancaire Trouve..." 
                    filteredValue="#{clientTrasactionBancaireMBean.compteBancaireFilter}"
                    selection="#{clientTrasactionBancaireMBean.selectedcompteBancaire}" rowKey="#{item.numeroCompte}">
                        <f:facet name="header">  
                    <p:outputPanel>  
                        <h:outputText value="Rechercher : " />  
                        <p:inputText id="globalFilter" onkeyup="PF('compteTb').filter();" style="width:150px" />  
                    </p:outputPanel>  
                  </f:facet> 
                        <p:column selectionMode="single" style="width:16px;text-align:center"/>
                        <p:column headerText="Numero Compte" filterBy="#{item.numeroCompte}" sortBy="#{item.numeroCompte}" filterMatchMode="contains" >
                            <f:facet name="header">
                                <h:outputText value="Numero Compte"/>
                            </f:facet>
                            
                            <h:outputText value="#{item.numeroCompte}"/>
                        </p:column>
                       
                        <p:column headerText="solde" filterBy="#{item.solde}" sortBy="#{item.solde}" filterFunction="#{clientTrasactionBancaireMBean.filterByMontant}">
                            <f:facet name="header">
                                <h:outputText value="Solde"/>
                            </f:facet>
                            <h:outputText value="#{item.solde}">
                              <f:convertNumber currencySymbol="HTG " type="currency"/>
                           </h:outputText>
                        </p:column>
                        <p:column headerText="typeCompte" filterBy="#{item.typeCompte}" sortBy="#{item.typeCompte}" filterMatchMode="contains" width="130">
                            <f:facet name="header">
                                <h:outputText value="Type Compte"/>
                            </f:facet>
                            
                             <h:outputText value="#{item.discriminatorValue}"/>
                        </p:column>
                         <p:column headerText="dateCreation" filterBy="#{item.dateCreation}" sortBy="#{item.dateCreation}" filterMatchMode="contains" width="130" >
                            <f:facet name="header">
                                <h:outputText value="Date Creation"/>
                            </f:facet>
                             <h:outputText value="#{item.dateCreation}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                            </h:outputText>
                        </p:column>
               
                         <p:column>
                            <f:facet name="header">
                                <h:outputText value="Action"/>
                            </f:facet>
                             <h:link class="lien" outcome="#{detailsComptesBeans.getActiontStringDetail(item.numeroCompte)}" value="Details"/>
                             <h:link class="lien" outcome="#{detailsComptesBeans.getActiontStringTransaction(item.numeroCompte)}" value="Depots/Retrait"/>
                             <h:link class="lien" outcome="#{detailsComptesBeans.getActiontStringTransfert(item.numeroCompte)}" value="Transfert"/>

                        </p:column>
                     
                    </p:dataTable>
                </h:form>
            </f:view>

        </h:form>
        
        
        
       


        
        
        
        
    </ui:define>

</ui:composition>
